# üìã Thi·∫øt K·∫ø Chi Ti·∫øt 4 Users √ó 8 Tu·∫ßn (Realistic)

## M·ª•c Ti√™u

Thi·∫øt k·∫ø b·ªô d·ªØ li·ªáu **4 users** v·ªõi t·∫ßn su·∫•t ƒëo **realistic** - kh√¥ng ph·∫£i ai c≈©ng ƒëo ƒë·∫ßy ƒë·ªß m·ªói ng√†y.

---

## 1. T·ªïng Quan 4 Users

| # | User | has_hyp | ƒê·∫∑c ƒëi·ªÉm t√¨nh tr·∫°ng | T·∫ßn su·∫•t ƒëo |
|:---:|:---|:---:|:---|:---|
| 1 | `user_tha` | 1 | THA ƒë√£ ch·∫©n ƒëo√°n, ƒëang ƒëi·ªÅu tr·ªã | **3 l·∫ßn/ng√†y** (tu√¢n th·ªß t·ªët) |
| 2 | `user_bp_load` | 2 | Cao ch∆∞a ch·∫©n ƒëo√°n, m·ªõi ph√°t hi·ªán | **2 l·∫ßn/ng√†y** (s√°ng-t·ªëi) |
| 3 | `user_ko_on_dinh` | 4 | Kh√¥ng ·ªïn ƒë·ªãnh, hay qu√™n | **1-2 l·∫ßn/ng√†y, b·ªè nhi·ªÅu ng√†y** |
| 4 | `user_ha_thap` | 5 | HA th·∫•p, ch·ªâ ƒëo khi c√≥ tri·ªáu ch·ª©ng | **1-3 l·∫ßn/ng√†y, kh√¥ng ƒë·ªÅu** |

---

## 2. Chi Ti·∫øt T·ª´ng User (G√≥c Nh√¨n Ng∆∞·ªùi D√πng)

---

### 2.1 User THA - "B·ªánh nh√¢n tu√¢n th·ªß"

**C√¢u chuy·ªán ng∆∞·ªùi d√πng:**
> √îng Nguy·ªÖn, 56 tu·ªïi, THA 2 nƒÉm. U·ªëng thu·ªëc ƒë·ªÅu, nghe l·ªùi b√°c sƒ© ƒëo 3 l·∫ßn/ng√†y. 
> ƒê√¥i khi b·∫≠n vi·ªác b·ªè bu·ªïi tr∆∞a, cu·ªëi tu·∫ßn hay qu√™n, T·∫øt th√¨ "ngh·ªâ x·∫£ h∆°i" lu√¥n.

**T·∫ßn su·∫•t ƒëo - Realistic:**

| Tu·∫ßn | T√¨nh hu·ªëng th·ª±c t·∫ø | Ng√†y ƒëo | L·∫ßn/ng√†y | T·ªïng | T·ª∑ l·ªá |
|:---:|:---|:---:|:---:|:---:|:---:|
| 1 | M·ªõi ƒë∆∞·ª£c doctor nh·∫Øc, quy·∫øt t√¢m | 7/7 | 3 | **21** | 100% |
| 2 | V·∫´n t·ªët, CN b·ªè bu·ªïi tr∆∞a | 7/7 | 2-3 | **19** | 90% |
| 3 | ƒêi c√¥ng t√°c 2 ng√†y | 5/7 | 2-3 | **13** | 62% |
| 4 | Quay l·∫°i, c·ªë g·∫Øng b√π | 7/7 | 3-4 | **24** | 114% |
| 5 | **T·∫æT - ch·ªâ ƒëo khi nh·ªõ** | 3/7 | 1-2 | **5** | **24%** |
| 6 | Sau T·∫øt, c√≤n l∆∞·ªùi | 5/7 | 2 | **10** | 48% |
| 7 | C·∫£m th·∫•y m·ªát, ƒëo nhi·ªÅu h∆°n | 7/7 | 3-4 | **25** | 119% |
| 8 | ·ªîn ƒë·ªãnh tr·ªü l·∫°i | 7/7 | 3 | **21** | 100% |

**T·ªïng: ~138 l·∫ßn ƒëo (thay v√¨ 168 n·∫øu ƒë·ªÅu)**

---

### 2.2 User BP Load - "Ng∆∞·ªùi m·ªõi ph√°t hi·ªán"

**C√¢u chuy·ªán ng∆∞·ªùi d√πng:**
> Ch·ªã H∆∞∆°ng, 45 tu·ªïi, kh√°m s·ª©c kh·ªèe ph√°t hi·ªán HA cao. B√°c sƒ© b·∫£o theo d√µi.
> ƒê·∫ßu ti√™n chƒÉm ch·ªâ, sau qu√™n d·∫ßn. Khi th·∫•y ch·ªâ s·ªë x·∫•u l·∫°i chƒÉm l·∫°i.

**T·∫ßn su·∫•t ƒëo - Realistic:**

| Tu·∫ßn | T√¨nh hu·ªëng th·ª±c t·∫ø | Ng√†y ƒëo | L·∫ßn/ng√†y | T·ªïng | T·ª∑ l·ªá |
|:---:|:---|:---:|:---:|:---:|:---:|
| 1 | V·ª´a mua m√°y, hay ƒëo th·ª≠ | 7/7 | 3-4 | **25** | 179% |
| 2 | H√†o h·ª©ng gi·∫£m d·∫ßn | 6/7 | 2-3 | **15** | 107% |
| 3 | B√¨nh th∆∞·ªùng | 5/7 | 2 | **10** | 71% |
| 4 | Qu√™n d·∫ßn | 4/7 | 1-2 | **6** | **43%** |
| 5 | **T·∫æT - kh√¥ng ƒëo** | 1/7 | 1 | **1** | **7%** |
| 6 | Th·∫•y ch·ªâ s·ªë x·∫•u, lo l·∫Øng | 7/7 | 3-4 | **24** | 171% |
| 7 | Duy tr√¨ | 6/7 | 2-3 | **16** | 114% |
| 8 | ·ªîn ƒë·ªãnh | 6/7 | 2 | **12** | 86% |

**T·ªïng: ~109 l·∫ßn ƒëo**

---

### 2.3 User Kh√¥ng ·ªîn ƒê·ªãnh - "Hay qu√™n, hay lo"

**C√¢u chuy·ªán ng∆∞·ªùi d√πng:**
> Anh T√∫, 52 tu·ªïi, HA th·∫•t th∆∞·ªùng. Hay qu√™n ƒëo, nh∆∞ng khi c·∫£m th·∫•y kh√≥ ch·ªãu 
> (ƒëau ƒë·∫ßu, ch√≥ng m·∫∑t) th√¨ ƒëo li√™n t·ª•c ƒë·ªÉ ki·ªÉm tra. ƒêo xong th·∫•y cao l·∫°i lo.

**T·∫ßn su·∫•t ƒëo - Realistic:**

| Tu·∫ßn | T√¨nh hu·ªëng th·ª±c t·∫ø | Ng√†y ƒëo | L·∫ßn/ng√†y | T·ªïng | T·ª∑ l·ªá |
|:---:|:---|:---:|:---:|:---:|:---:|
| 1 | B√¨nh th∆∞·ªùng, hay qu√™n | 3/7 | 1-2 | **5** | **24%** |
| 2 | ƒêau ƒë·∫ßu, lo l·∫Øng, ƒëo nhi·ªÅu | 5/7 | 3-5 | **18** | 86% |
| 3 | Th·∫•y ·ªïn, l·∫°i qu√™n | 2/7 | 1 | **2** | **10%** |
| 4 | Kh√°m doctor, ƒë∆∞·ª£c nh·∫Øc | 6/7 | 2-3 | **15** | 71% |
| 5 | **T·∫æT - ho√†n to√†n kh√¥ng ƒëo** | 0/7 | 0 | **0** | **0%** |
| 6 | Sau T·∫øt cho√°ng, ƒëo li√™n t·ª•c | 6/7 | 4-6 | **30** | **143%** |
| 7 | Gi·∫£m d·∫ßn | 4/7 | 2-3 | **10** | 48% |
| 8 | B√¨nh th∆∞·ªùng | 5/7 | 2 | **10** | 48% |

**T·ªïng: ~90 l·∫ßn ƒëo (r·∫•t kh√¥ng ƒë·ªÅu)**

**Edge cases test ƒë∆∞·ª£c:**
- Tu·∫ßn 3: Ch·ªâ 2 l·∫ßn ƒëo ‚Üí C·∫£nh b√°o "Kh√¥ng ƒë·ªß data"
- Tu·∫ßn 5: 0 l·∫ßn ƒëo ‚Üí C·∫£nh b√°o "Kh√¥ng c√≥ data"
- Tu·∫ßn 6: ƒêo qu√° nhi·ªÅu (>21 l·∫ßn/tu·∫ßn)

---

### 2.4 User HA Th·∫•p - "ƒêo khi c√≥ tri·ªáu ch·ª©ng"

**C√¢u chuy·ªán ng∆∞·ªùi d√πng:**
> C√¥ Lan, 35 tu·ªïi, HA th·∫•p m√£n t√≠nh. Ch·ªâ ƒëo khi ch√≥ng m·∫∑t ho·∫∑c mu·ªën check 
> sau khi ƒë·ª©ng d·∫≠y ƒë·ªôt ng·ªôt. Kh√¥ng ƒëo ƒë·ªÅu v√¨ "th·∫•y kh·ªèe th√¨ kh√¥ng c·∫ßn".

**T·∫ßn su·∫•t ƒëo - Realistic:**

| Tu·∫ßn | T√¨nh hu·ªëng th·ª±c t·∫ø | Ng√†y ƒëo | L·∫ßn/ng√†y | T·ªïng | T·ª∑ l·ªá |
|:---:|:---|:---:|:---:|:---:|:---:|
| 1 | Kh·ªèe, √≠t ƒëo | 2/7 | 1 | **2** | **10%** |
| 2 | Hay ch√≥ng m·∫∑t bu·ªïi s√°ng | 5/7 | 2-3 | **12** | 57% |
| 3 | Ch√≥ng m·∫∑t nhi·ªÅu, ƒëo li√™n t·ª•c | 7/7 | 3-4 | **25** | 119% |
| 4 | ƒê∆∞·ª£c k√™ thu·ªëc, theo d√µi | 7/7 | 3 | **21** | 100% |
| 5 | **T·∫æT - √≠t tri·ªáu ch·ª©ng** | 2/7 | 1 | **2** | **10%** |
| 6 | L·∫°i ch√≥ng m·∫∑t sau T·∫øt | 6/7 | 2-3 | **16** | 76% |
| 7 | ·ªîn d·∫ßn | 4/7 | 1-2 | **6** | 29% |
| 8 | Kh√°m l·∫°i, doctor b·∫£o ƒëo | 6/7 | 2-3 | **15** | 71% |

**T·ªïng: ~99 l·∫ßn ƒëo**

---

## 3. T·ªïng H·ª£p T·∫ßn Su·∫•t ƒêo

### Bi·ªÉu ƒë·ªì s·ªë l·∫ßn ƒëo theo tu·∫ßn:

```
L·∫ßn ƒëo
   30 |                              ‚ñà‚ñà (U3-T6: 30)
   25 |    ‚ñà‚ñà           ‚ñà‚ñà    ‚ñà‚ñà    ‚ñì‚ñì           ‚ñà‚ñà (U1-T7: 25)
   21 | ‚ñà‚ñà ‚ñì‚ñì           ‚ñì‚ñì    ‚ñà‚ñà ‚ñì‚ñì              ‚ñì‚ñì ‚ñà‚ñà
   15 |    ‚ñì‚ñì ‚ñà‚ñà    ‚ñà‚ñà       ‚ñì‚ñì ‚ñì‚ñì ‚ñì‚ñì ‚ñì‚ñì ‚ñà‚ñà ‚ñà‚ñà ‚ñì‚ñì ‚ñì‚ñì
   10 |       ‚ñì‚ñì ‚ñà‚ñà ‚ñì‚ñì ‚ñà‚ñà       ‚ñà‚ñà    ‚ñì‚ñì ‚ñà‚ñà ‚ñà‚ñà ‚ñì‚ñì
    5 | ‚ñì‚ñì ‚ñà‚ñà ‚ñì‚ñì ‚ñà‚ñà ‚ñì‚ñì ‚ñà‚ñà ‚ñà‚ñà              ‚ñà‚ñà
    0 |___|___|___|___|___|___|___|___|___
        T1  T2  T3  T4  T5  T6  T7  T8
        
‚ñì‚ñì = User THA    ‚ñà‚ñà = User BP Load
‚ñë‚ñë = User K√îƒê    ‚ñí‚ñí = User HA Th·∫•p
```

### So s√°nh % tu√¢n th·ªß:

| User | T1 | T2 | T3 | T4 | T5 | T6 | T7 | T8 | TB |
|:---|:---:|:---:|:---:|:---:|:---:|:---:|:---:|:---:|:---:|
| THA | 100% | 90% | 62% | 114% | **24%** | 48% | 119% | 100% | 82% |
| BP Load | 179% | 107% | 71% | **43%** | **7%** | 171% | 114% | 86% | 97% |
| Kh√¥ng ·ªïn ƒë·ªãnh | **24%** | 86% | **10%** | 71% | **0%** | **143%** | 48% | 48% | 54% |
| HA Th·∫•p | **10%** | 57% | 119% | 100% | **10%** | 76% | 29% | 71% | 59% |

### Edge Cases ƒë∆∞·ª£c test:

| Case | User | Tu·∫ßn | M√¥ t·∫£ |
|:---|:---|:---:|:---|
| Kh√¥ng ƒëo | Ko ·ªïn ƒë·ªãnh | T5 | 0 l·∫ßn ƒëo ‚Üí "Kh√¥ng c√≥ d·ªØ li·ªáu" |
| Qu√° √≠t | Ko ·ªïn ƒë·ªãnh | T3 | 2 l·∫ßn ‚Üí "Kh√¥ng ƒë·ªß d·ªØ li·ªáu ƒë·ªÉ ph√¢n t√≠ch" |
| √çt ƒëo | HA Th·∫•p | T1, T5 | 2 l·∫ßn ‚Üí C·∫£nh b√°o c·∫ßn ƒëo th√™m |
| ƒêo qu√° nhi·ªÅu | Ko ·ªïn ƒë·ªãnh | T6 | 30 l·∫ßn ‚Üí Hi·ªÉn th·ªã b√¨nh th∆∞·ªùng |
| ƒêo nhi·ªÅu h∆°n y√™u c·∫ßu | THA | T4, T7 | >21 l·∫ßn ‚Üí T√≠nh b√¨nh th∆∞·ªùng |


---

## 3. Ma Tr·∫≠n Coverage T·ªïng H·ª£p

| Lo·∫°i nh·∫≠n x√©t | User THA | User BP | User K√îƒê | User Th·∫•p |
|:---|:---:|:---:|:---:|:---:|
| Ki·ªÉm so√°t t·ªëi ∆∞u (>70%) | ‚úÖ T1,2,8 | - | - | - |
| Ki·ªÉm so√°t t·ªët (50-70%) | ‚úÖ T3,7 | - | - | - |
| Ki·ªÉm so√°t k√©m (25-50%) | ‚úÖ T4,6 | - | - | - |
| Kh√¥ng ki·ªÉm so√°t (<25%) | ‚úÖ T5 | - | - | - |
| BP Load b√¨nh th∆∞·ªùng | - | ‚úÖ T1,2,8 | - | - |
| BP Load ch·ªõm cao | - | ‚úÖ T3,4,7 | - | - |
| BP Load g√°nh n·∫∑ng | - | ‚úÖ T5,6 | ‚úÖ T·∫•t c·∫£ | - |
| Hypo √≠t khi | - | - | - | ‚úÖ T1,2,8 |
| Hypo th∆∞·ªùng xuy√™n | - | - | - | ‚úÖ T3,4,7 |
| Hypo r·ªßi ro | - | - | - | ‚úÖ T5,6 |
| ARV ·ªïn ƒë·ªãnh | ‚úÖ T1,2,4,7,8 | - | - | - |
| ARV bi·∫øn ƒë·ªông | ‚úÖ T3 | - | - | - |
| ARV b·∫•t ·ªïn | ‚úÖ T5,6 | - | ‚úÖ T·∫•t c·∫£ | - |
| ME diff c√¢n b·∫±ng | ‚úÖ T1,3,5-8 | - | - | - |
| ME diff v·ªçt s√°ng | ‚úÖ T2 | - | ‚úÖ T4 | - |
| ME diff tƒÉng t·ªëi | ‚úÖ T4 | - | ‚úÖ ƒêa s·ªë | - |
| **Kh√¥ng ƒë·ªß data** | - | - | ‚úÖ T5 | - |
| Tu√¢n th·ªß t·ªët (>80%) | ‚úÖ | - | - | - |
| Tu√¢n th·ªß kh√° (50-80%) | - | ‚úÖ | - | ‚úÖ |
| Tu√¢n th·ªß k√©m (<50%) | - | - | ‚úÖ | - |

**‚Üí 17/17 nh·∫≠n x√©t ch√≠nh + 3 m·ª©c tu√¢n th·ªß + edge case "Kh√¥ng ƒë·ªß data"**

---

## 4. C·∫•u Tr√∫c Folder

```
Data_import/
‚îî‚îÄ‚îÄ optimized_4users/
    ‚îú‚îÄ‚îÄ README.md
    ‚îÇ
    ‚îú‚îÄ‚îÄ user_tha/
    ‚îÇ   ‚îú‚îÄ‚îÄ users.csv
    ‚îÇ   ‚îú‚îÄ‚îÄ user_health_profiles.csv
    ‚îÇ   ‚îú‚îÄ‚îÄ user_blood_pressure.csv           ‚Üê ~154 l·∫ßn ƒëo
    ‚îÇ   ‚îú‚îÄ‚îÄ events.csv
    ‚îÇ   ‚îú‚îÄ‚îÄ expected_chi-so_week.csv          ‚Üê 8 tu·∫ßn
    ‚îÇ   ‚îî‚îÄ‚îÄ expected_chi-so_month.csv         ‚Üê 2 th√°ng
    ‚îÇ
    ‚îú‚îÄ‚îÄ user_bp_load/
    ‚îÇ   ‚îú‚îÄ‚îÄ users.csv
    ‚îÇ   ‚îú‚îÄ‚îÄ user_health_profiles.csv
    ‚îÇ   ‚îú‚îÄ‚îÄ user_blood_pressure.csv           ‚Üê ~92 l·∫ßn ƒëo
    ‚îÇ   ‚îú‚îÄ‚îÄ events.csv
    ‚îÇ   ‚îú‚îÄ‚îÄ expected_chi-so_week.csv
    ‚îÇ   ‚îî‚îÄ‚îÄ expected_chi-so_month.csv
    ‚îÇ
    ‚îú‚îÄ‚îÄ user_ko_on_dinh/
    ‚îÇ   ‚îú‚îÄ‚îÄ users.csv
    ‚îÇ   ‚îú‚îÄ‚îÄ user_health_profiles.csv
    ‚îÇ   ‚îú‚îÄ‚îÄ user_blood_pressure.csv           ‚Üê ~67 l·∫ßn ƒëo (kh√¥ng ƒë·ªÅu)
    ‚îÇ   ‚îú‚îÄ‚îÄ events.csv
    ‚îÇ   ‚îú‚îÄ‚îÄ expected_chi-so_week.csv
    ‚îÇ   ‚îî‚îÄ‚îÄ expected_chi-so_month.csv
    ‚îÇ
    ‚îî‚îÄ‚îÄ user_ha_thap/
        ‚îú‚îÄ‚îÄ users.csv
        ‚îú‚îÄ‚îÄ user_health_profiles.csv
        ‚îú‚îÄ‚îÄ user_blood_pressure.csv           ‚Üê ~101 l·∫ßn ƒëo
        ‚îú‚îÄ‚îÄ events.csv
        ‚îú‚îÄ‚îÄ expected_chi-so_week.csv
        ‚îî‚îÄ‚îÄ expected_chi-so_month.csv
```

---

## 5. Quy·∫øt ƒê·ªãnh C·∫ßn X√°c Nh·∫≠n

1. **OK v·ªõi 4 users n√†y?** Hay c·∫ßn th√™m/b·ªõt?
2. **T·∫ßn su·∫•t ƒëo c√≥ realistic kh√¥ng?** Hay c·∫ßn ƒëi·ªÅu ch·ªânh?
3. **C√≥ c·∫ßn th√™m user cho has_hypertension = 3, 6 kh√¥ng?**
4. **Folder name: `optimized_4users` hay t√™n kh√°c?**

---

*Ng√†y t·∫°o: 2026-02-04*
